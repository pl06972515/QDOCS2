<br/>



<!-- tabs:start -->

#### **[  构造函数 ] **

!> <span style='color:red'>[ 构造函数 ] 在`JS`中，构造函数是一种特殊的函数 ( 用于创建和初始化对象 )</span>

```csharp
# [ 构造函数 ] 名称约定: 首字母大写
function TClass(name, age) {
    
    this.Name = name;
    this.Age = age;

    this.Print = () => {
        # [ 注意事项 ] 箭头函数 this 指向上一级是 TClass
        # [ 注意事项 ] 如果使用字面量方式声明对象 [ this 会指向 window ]
        console.log(`姓名：${this.name}，年龄：${this.age}`);
    };
    
};

# [ 静态成员 ]
TClass.FileName = "Index.js";
// TClass.Show2 = () => {
//    console.log(this); // this = window
//    console.log(`文件名：${TClass.FileName}`);
// }
TClass.Show1 = function() {
    console.log(this); // this = TClass
    console.log(`文件名：${TClass.FileName}`);
}

-------------------------------------
    
/// <summary>
/// new 操作符的执行过程
/// [ A ] 创建一个新的空对象 {}
/// [ B ] [ 原型链接 ] 将该对象的 __proto__ 指向构造函数的 prototype 
/// [ C ] [ this 绑定 ] 构造函数内部 this 指向这个对象
/// [ D ] 执行构造函数 [ 传递参数：为该对象添加属性和方法 ]
/// [ E ] 返回对象( 引用 )
///
/// </summary>
const u1 = new TClass("张三", 20);
console.log(u1.Name); // 张三
console.log(u1.Age);  // 20
u1.Print();

const u2 = new TClass("李四", 30);
console.log(u2.Name); // 李四
console.log(u2.Age);  // 30
u2.Print();


```



#### **[ ℹ️ 原型对象 ] Prototype**

>[!WARNING|style: flat|label: 简要说明 ]
>
>- <span style='color:Blue'>[ 原型`Prototype`]</span> 每个函数都有一个`prototype`属性 <span style='color:red'>[ 构造函数的`prototype`属性指向一个对象 - 原型对象 ]</span>
>
>  [`A`] 共享性：通过构造函数创建的所有对象实例 <span style='color:red'>[ 共享同一个原型对象 ]</span>
>
>  [`B`] 继承性：实例对象可以访问原型上定义的属性和方法
>
>  <span style='color:red'>[ 内存优化：类型方法定义在原型上，可避免每个实例都创建一份函数副本 - 构造函数和原型对象中的`this`都指向`对象实例`]</span>
>
><br/>

```csharp
function TClass(name, age) {
    # [ 公共属性 ]
    this.Name = name;
    this.Age = age;
};

# [ 公共方法 ] prototype
// TClass.prototype.Print = () => {
//     console.log(this); // this = window
//     console.log(`姓名：${this.Name}，年龄：${this.Age}`);
// };
# this: 指向函数调用者 ( 因此 this = TClass )
TClass.prototype.Print = function(){
    console.log(this); // this = TClass
    console.log(`姓名：${this.Name}，年龄：${this.Age}`);
};

-----------------------------------------------
    
const u1 = new TClass("张三", 20);
console.log(u1.Name); // 张三
console.log(u1.Age);  // 20
u1.Print();


```

>```csharp
># [ 案例 ] 扩展方法
>Array.prototype.Sum = function () {
>     // this = Array
>     return this.reduce((acc, val) => acc + val, 0);
>};
>
>console.log([1, 2, 3, 4, 5].Sum()); // Output: 15
>    
>```
>
>



<!-- tabs:end -->


